/**
 * Pj 头部 - 页脚
 * fj in 2015-11-27
 */
;
!(function($) {
    "use strict";
    var Pj = (function() {
        var $mask = $('#mask'),
            $register,
            $login,
            $repass,
            $htmlBody = $("html, body");
        return {
            ini: function() {
                // 把所有的ts4 加上live
                var $ts4 = $('.ts4'),
                    _ts4_l = $ts4.length;
                while (_ts4_l--) {
                    $ts4.eq(_ts4_l).addClass('ts-live');
                };
                // 禁止鼠标选择
                if (typeof document.onselectstart !== "undefined") {
                    document.onselectstart = new Function("return false");
                };
                // 禁止右键
                function nocontextmenu(e) {
                    e = e || window.event || arguments.callee.caller.arguments[0];
                    e.cancelBubble = true;
                    e.returnValue = false;
                    return false;
                }

                function norightclick(e) {
                    e = e || window.event || arguments.callee.caller.arguments[0];
                    if (window.event) {
                        if (e.which === 2 || e.which === 3) return false;
                    } else if (e.button === 2 || e.button === 3) {
                        e.cancelBubble = true;
                        e.returnValue = false;
                        return false;
                    };
                }
                document.oncontextmenu = nocontextmenu; // for IE5+
                document.onmousedown = norightclick; // for all others
                /******************************************************************************/

                $register = $('#registerDom').html();
                $login = $('#loginDom').html();
                $repass = $('#findpassDom').html();
                $('#regLogDom').remove();
            },
            register: function() {
                $('#mask').hide().html($register).show(0, function() {
                    $(this).children().removeClass('active');
                });
            },
            login: function() {
                $('#mask').hide().html($login).show(0, function() {
                    $(this).children().removeClass('active');
                });
            },
            findPass: function() {
                $('#mask').hide().html($repass).show(0, function() {
                    $(this).children().removeClass('active');
                });
            },
            goTop: function() {
                $htmlBody.animate({
                    scrollTop: 0
                }, 400);
            }
        };
    })();
    Pj.ini();
    /**
     * 注册
     */
    // 弹出注册框
    $('#body').on('click', '.register-trigger', function() {
        Pj.register();
    });
    /**
     * 登陆
     */
    // 弹出登陆框
    $('#body').on('click', '.login-trigger', function() {
        Pj.login();
    });
    /**
     * 找回密码
     */
    // 弹出找回密码框
    $('#body').on('click', '.findPass-trigger', function() {
        Pj.findPass();
    });
    // 联系客服
    $('#asideFunc').on('click', '.func-contact', function() {
        easemobIM();
    });
    // 回答顶部
    $('#asideFunc').on('click', '.func-top', function() {
        Pj.goTop();
    });
})(jQuery);
